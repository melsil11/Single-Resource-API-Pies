{% layout 'layout.liquid' %}
{% block content %}
  <div class="container-md">
    <!-- you can do fun things like inline style with properties of your rendered object -->
    <!-- <article style="background-color:{{fruit.color}}"> -->
      <article>
        <h2>
      {{ pie.name }}
      </h2>
        <h4>
          {% if pie.fruit %}
          Sweet and Ready to Eat
        {% else %}
          No Fruit
        {%endif%}
      </h4>
      {% if pie.grahamCrackerCrust %}
          Soft crumbly crust
        {% else %}
          Flakey dough crust
        {%endif%}
      <h4>
      </h4>
      {% if pie.owner == userId  %}
        <div class="btn-group">
          {%- comment -%}
            this button will send us to the edit page
          {%- endcomment -%}
          <a href="/pies/{{ pie.id }}/edit" class="btn btn-primary">Edit</a>
          <!-- this is how we tell our app to use method-override -->
          <!-- forms can ONLY send GET or POST requests, so we need method-override to allow for PUT and DELETE requests -->
          {%- comment -%}
            
          {%- endcomment -%}
          <form action="/pies/{{ pie._id }}?_method=DELETE" method="POST">
            <input type="submit" value="Delete" class="btn btn-danger">
          </form>
        </div>
      {% endif %}
    </article>
    <div class="col-md-6">
      <form action="/comments/{{pie.id}}" method="POST">
        <fieldset>
          <legend>Add Comment</legend>
          <label class="form-label">Comment:
          </label>
          <input type="text" class="form-control" name="note" placeholder="enter comment here...">
        </fieldset>
        <input type="submit" class="btn btn-success" value="Add Comment">
      </form>
    </div>
  </div>
{% endblock %}